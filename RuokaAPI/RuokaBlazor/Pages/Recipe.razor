@page "/recipe"
@layout MainLayout

<PageTitle>Resepti: Kanakeitto</PageTitle>

<div class="page-container">
    <header>
        <h1>Kanakeitto</h1>
        <img src="chickensoup_png.png" alt="Kanakeitto" class="recipe-image" />
        <p>Lämmittävä ja maukas kotitekoinen kanakeitto.</p>
    </header>

    <div class="multiplier-selector">
        <label for="multiplier">Valitse reseptin määrä:</label>
        <select id="multiplier" @onchange="UpdateMultiplier">
            @for (int i = 1; i <= 5; i++)
            {
                <option value="@i" selected="@(i == multiplier)">@i-kertainen</option>
            }
        </select>
    </div>

    <div class="recipe-container">
        <div class="ingredients">
            <h2>Ainesosat</h2>
            <ul>
                <li>@(500 * multiplier) g kanan fileepaloja</li>
                <li>@(2 * multiplier) porkkanaa</li>
                <li>@(2 * multiplier) perunaa</li>
                <li>@(1 * multiplier) sipuli</li>
                <li>@(1 * multiplier) l kanaliemi</li>
                <li>@(2 * multiplier) dl ruokakermaa</li>
                <li>@(1 * multiplier) rkl öljyä</li>
                <li>@(1 * multiplier) tl suolaa</li>
                <li>@(0.5 * multiplier) tl mustapippuria</li>
                <li>Tuoretta persiljaa koristeluun</li>
            </ul>
        </div>
        <div class="instructions">
            <h2>Valmistusohjeet</h2>
            <p>Kuori ja pilko porkkanat, perunat ja sipuli pieniksi paloiksi.
               Kuutioi kanan fileepalat.
               Kuumenna öljy kattilassa ja ruskista kanapalat kevyesti.
               Lisää pilkotut vihannekset ja kuullota niitä hetki.
               Kaada joukkoon kanaliemi ja mausta suolalla ja pippurilla.
               Anna keiton kiehua miedolla lämmöllä noin 20 minuuttia, kunnes vihannekset ovat pehmeitä.
               Sekoita joukkoon ruokakerma ja kuumenna keitto uudelleen.
               Koristele keitto tuoreella persiljalla ennen tarjoilua.</p>
        </div>
    </div>
</div>

<style>
    /* Keskittää sivun sisällön ja lisää paddingia */
    .page-container {
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem;
        text-align: center;
    }

    /* Kuvan tyyli */
    .recipe-image {
        max-width: 100%;
        height: auto;
        margin: 1rem 0;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    /* Pudotusvalikon tyyli */
    .multiplier-selector {
        margin-bottom: 2rem;
    }

    label, select {
        font-size: 1.2rem;
    }

    /* Ainesosien ja ohjeiden asettelu */
    .recipe-container {
        display: flex;
        flex-wrap: wrap;
        gap: 2rem;
        justify-content: center;
        text-align: left;
    }

    .ingredients, .instructions {
        flex: 1 1 45%;
        min-width: 300px;
        padding: 1rem;
        border: 1px solid #ccc;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        background-color: #fff;
    }

    ul, ol {
        margin: 0;
        padding-left: 1.5rem;
    }

    h1, h2 {
        margin-bottom: 1rem;
    }
</style>

@code {
    private int multiplier = 1;

    private void UpdateMultiplier(ChangeEventArgs e)
    {
        if (int.TryParse(e.Value?.ToString(), out int selectedMultiplier))
        {
            multiplier = selectedMultiplier;
        }
    }
}
